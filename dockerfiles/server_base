FROM python:3.9

RUN apt -y update
RUN apt -y install socat
RUN mkdir -p /codequest

COPY requirements.txt .
RUN pip install -r requirements.txt

ADD src /codequest/src
ADD maps /codequest/maps

RUN echo "python /codequest/src/main.py" > /codequest/run.sh
RUN chmod +x /codequest/run.sh

CMD ["/bin/sh", "-c", "/codequest/run.sh"]